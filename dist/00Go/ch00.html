<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hello world iDoc</title>
    <meta name="description" content="对于导入的包，编译器会首先在GOROOT中寻找，随后会在项目所对应的GOPATH中寻找，最后才是在全局GOPATH中寻找，如果都无法找到，编译器将会报错。">
    <meta name="keywords" content="notebook">
    <link rel="stylesheet" type="text/css" href="../css/main.css?v=1.25.0">
    <link rel="stylesheet" type="text/css" href="../css/tocbot.css?v=1.25.0">
    <link rel="stylesheet" type="text/css" href="../css/media.css?v=1.25.0">
    <link rel="stylesheet" type="text/css" href="../css/sidebar.css?v=1.25.0">
    <link rel="stylesheet" type="text/css" href="../css/copy.css?v=1.25.0">
    <link rel="stylesheet" type="text/css" href="../css/fancybox.css?v=1.25.0">
    <link rel="icon" href="../logo.png" type="image/x-icon">
    <script src="../js/copy.js?v=1.25.0"></script>
    <script src="../js/dark-mode.js?v=1.25.0"></script>
    <script src="../js/markdown-style.js?v=1.25.0"></script>
    <script src="../js/jquery.min.js?v=1.25.0"></script>
    <script src="../js/fancybox.umd.js?v=1.25.0"></script>
  </head>
  <body><button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    <script>
// Get the button:
let mybutton = document.getElementById("myBtn");
// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};
// 顶部隐藏，底部隐藏
function scrollFunction() {
if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
mybutton.style.display = "block";
} else {
mybutton.style.display = "none";
}
}
// When the user clicks on the button, scroll to the top of the document
function topFunction() {
document.body.scrollTop = 0; // For Safari
document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
}
</script>
    <header class="header">
      <article class="inner warpper"><a class="logo" href="../index.html"><img alt="iDoc logo" src="../logo.png">
<span class="title">iDoc</span></a>
        <div class="content">
          <ul class="menu">
            <li><a href="../index.html" target="" class="">Home</a></li>
            <li><a href="index.html" target="" class="active">Go</a></li>
            <li><a href="../01DataStructure/index.html" target="" class="">DataStructure</a></li>
            <li><a href="../01ComputerNetwork/index.html" target="" class="">ComputerNetwrok</a></li>
            <li><a href="../01DataBase/index.html" target="" class="">DataBase</a></li>
            <li><a href="../01OperatingSystem/index.html" target="" class="">OperatingSystem</a></li>
            <li><a href="../03Other/index.html" target="" class="">Other</a></li>
          </ul><a href="https://github.com/shixiaocaia" target="_blank" rel="noopener noreferrer" title="Github" name="Github" class="github"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
            </svg></a>
          <dark-mode permanent=""></dark-mode>
        </div>
      </article>
    </header>
    <div class="warpper-content warpper sidebar">
      <div class="sidebar-border">
        <aside class="sidebar" role="navigation">
          <div>
            <a href="index.html" class="">↩️README</a>
            <label>Hello World</label>
            <a href="ch00.html" class="">基础语法</a>
            <a href="ch01.html" class="">并发编程</a>
            <label>Todolist</label>
            <label>Web编程</label>
            <label>原理深入</label>
            <label>微服务框架</label>
          </div>
        </aside>
      </div>
      <markdown-style>
        <h1 id="hello-world"><a aria-hidden="true" tabindex="-1" href="#hello-world" class="anchor"><span class="icon icon-link"></span></a>Hello world</h1>
        <h2 id="安装"><a aria-hidden="true" tabindex="-1" href="#安装" class="anchor"><span class="icon icon-link"></span></a>安装</h2>
        <ol>
          <li>下载<a href="https://link.segmentfault.com/?enc=GJ%2Fx51QtfKANYfOQDx%2FZYQ%3D%3D.yWqrklYSk2AczBi9JWI762tgQJX0HeUOlzJNhQgiCVc%3D">GO语言</a></li>
          <li>安装msi文件，<code>go version</code>检测安装</li>
          <li>msi安装会默认配置环境变量，修改GOPATH路径
            <ul>
              <li>创建GOPATH目录，在目录下创建三个文件夹</li>
              <li>bin:用来存放编译后生成的可执行文件</li>
              <li>pkg:用来存放编译后生成的归档文件</li>
              <li>src:用来存放源码文件</li>
            </ul>
          </li>
          <li>设置代理<code>go env -w GOPROXY=https://goproxy.cn,direct</code></li>
          <li>开启go modules<code>go env -w GO111MODULE=on</code></li>
        </ol>
        <h2 id="导包"><a aria-hidden="true" tabindex="-1" href="#导包" class="anchor"><span class="icon icon-link"></span></a>导包</h2>
        <p>对于导入的包，编译器会首先在<code>GOROOT</code>中寻找，随后会在项目所对应的<code>GOPATH</code>中寻找，最后才是在<code>全局GOPATH</code>中寻找，如果都无法找到，编译器将会报错。</p>
        <h3 id="包管理工具"><a aria-hidden="true" tabindex="-1" href="#包管理工具" class="anchor"><span class="icon icon-link"></span></a>包管理工具</h3>
        <ol>
          <li>
            <p><strong>GOPATH</strong>：把依赖包通过go get命令拉到本地GOPATH目录下，缺点是没法实现依赖包多版本管理。</p>
            <ul>
              <li>在工程经过<code>go build</code>、<code>go install</code>或 <code>go get</code>等指令后，会将拉取的第三方xxx依赖包放在<code>GOPATH/src</code>目录下</li>
              <li>产生的二进制可执行文件放在<code>GOPATH/bin</code> 目录下</li>
              <li>生成的中间缓存文件会被保存在 <code>GOPATH/pkg</code>下。</li>
            </ul>
          </li>
          <li>
            <p><strong>DEP</strong>：将依赖包通过DEP命令打包到工程下的vendor目录。Shopee金融团队、字节跳动教育团队用的就是DEP</p>
            <ul>
              <li>编译 Go 代码会优先从工程目录下的<code>vendor</code>目录先寻找依赖包，如果没有找到，然后<code>GOPATH</code> 中查找，都没找到最后在 <code>GOROOT</code>中查找。</li>
            </ul>
          </li>
          <li>
            <p><strong>GoMod</strong>：将依赖包拉取到统一的pkg目录下，分版本存储。腾讯云用GoMod的团队会比较多。</p>
            <ul>
              <li><code>GOMODULE</code>模式下所有依赖的包存放在<code>GOPATH/pkg/mod</code>目录下</li>
              <li>所有第三方二进制可执行文件放在<code>GOPATH/bin</code>目录下</li>
              <li>且工程项目可以放在<code>GOPATH</code>路径之外，但要求项目中需要有<code>go.mod</code>文件（该文件通过<code>go mod init</code>命令初始化可以生成）。</li>
            </ul>
            <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1">export GO111MODULE<span class="token operator">=</span>on
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">go</span> mod init
</span><span class="code-line line-number" line="4">初始化当前文件夹，创建<span class="token keyword">go</span><span class="token punctuation">.</span>mod文件，事实上，如果你的环境中GO111MODULE<span class="token operator">=</span>on，使用类似goland的工具创建工程会自动生成<span class="token keyword">go</span><span class="token punctuation">.</span>mod
</span><span class="code-line line-number" line="5"><span class="token keyword">go</span> mod tidy
</span><span class="code-line line-number" line="6">包整理（多的删去、少的拉取），使用之前自然是<span class="token keyword">import</span>了需要的库了
</span><span class="code-line line-number" line="7"><span class="token keyword">go</span> mod download
</span><span class="code-line line-number" line="8">下载依赖到本地（默认为 GOPATH<span class="token operator">/</span>pkg<span class="token operator">/</span>mod 目录）
</span><span class="code-line line-number" line="9"><span class="token keyword">go</span> mod vendor	
</span><span class="code-line line-number" line="10">将依赖包复制到工程文件的vendor目录下
</span><span class="code-line line-number" line="11"><span class="token keyword">go</span> mod verify
</span><span class="code-line line-number" line="12">验证依赖是否正确
</span></code><input type="hidden" value="export GO111MODULE=on

go mod init
初始化当前文件夹，创建go.mod文件，事实上，如果你的环境中GO111MODULE=on，使用类似goland的工具创建工程会自动生成go.mod
go mod tidy
包整理（多的删去、少的拉取），使用之前自然是import了需要的库了
go mod download
下载依赖到本地（默认为 GOPATH/pkg/mod 目录）
go mod vendor	
将依赖包复制到工程文件的vendor目录下
go mod verify
验证依赖是否正确
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
          </li>
        </ol>
        <blockquote>
          <ul>
            <li>go mod init testname后，引用该模块下的package时，作为共同的前缀，同时也是模块的标识。</li>
          </ul>
        </blockquote>
        <h3 id="golang环境"><a aria-hidden="true" tabindex="-1" href="#golang环境" class="anchor"><span class="icon icon-link"></span></a>golang环境</h3>
        <p>设置了Go Modules后，不能与$GOPATH共存,所以把项目从$GOPATH中移出即可，否则会提示go.mod exists but should not</p>
        <h2 id="hello-world-1"><a aria-hidden="true" tabindex="-1" href="#hello-world-1" class="anchor"><span class="icon icon-link"></span></a>Hello world</h2>
        <pre class="language-go"><code class="language-go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">go</span> build main<span class="token punctuation">.</span><span class="token keyword">go</span> <span class="token comment">// 得到二进制文件</span>
</span><span class="code-line line-number" line="2"><span class="token punctuation">.</span><span class="token operator">/</span>main 		     <span class="token comment">// 执行文件</span>
</span></code><input type="hidden" value="go build main.go // 得到二进制文件
./main 		     // 执行文件
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="数据结构"><a aria-hidden="true" tabindex="-1" href="#数据结构" class="anchor"><span class="icon icon-link"></span></a>数据结构</h2>
        <h3 id="变量定义"><a aria-hidden="true" tabindex="-1" href="#变量定义" class="anchor"><span class="icon icon-link"></span></a>变量定义</h3>
        <ul>
          <li>类型声明
            <ul>
              <li>
                <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> FreezingC <span class="token builtin">float64</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">type</span> Fahrenheit <span class="token builtin">float64</span>
</span></code><input type="hidden" value="type FreezingC float64
type Fahrenheit float64
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
              </li>
              <li>
                <p>FreezingC Fahrenheit虽然底层都相同，都是float64，但是仍然不是同一种类型，进行计算时需要显示类型转换</p>
              </li>
              <li>
                <p><strong>Go中不具有隐式类型转换</strong></p>
              </li>
            </ul>
          </li>
          <li>全局变量如果要在包外访问，首字母需要大写，golang是<strong>以首字母大小</strong>写来区分对包外是否可见。</li>
        </ul>
        <h3 id="常量"><a aria-hidden="true" tabindex="-1" href="#常量" class="anchor"><span class="icon icon-link"></span></a>常量</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">"hello"</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">const</span><span class="token punctuation">(</span>
</span><span class="code-line line-number" line="3">    e <span class="token operator">=</span> <span class="token number">1.2323</span>
</span><span class="code-line line-number" line="4">    p <span class="token operator">=</span> <span class="token number">2312</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">)</span>
</span></code><input type="hidden" value="const str = &#x22;hello&#x22;
const(
    e = 1.2323
    p = 2312
)
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>常量不能用 <code>:=</code></li>
          <li>保证在编译阶段就计算出表达式的值，不需要等到运行阶段。</li>
          <li>常量并不从属于任何具体类型，所以常量在声明时不说类型。</li>
        </ul>
        <h3 id="字符串"><a aria-hidden="true" tabindex="-1" href="#字符串" class="anchor"><span class="icon icon-link"></span></a>字符串</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1">s <span class="token operator">:=</span> <span class="token string">"hello world"</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">var</span> s <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"hello world"</span>
</span><span class="code-line line-number" line="3">s2 <span class="token operator">:=</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token comment">// 创建[0,5)的子串</span>
</span></code><input type="hidden" value="s := &#x22;hello world&#x22;
var s string = &#x22;hello world&#x22;
s2 := s[0:5] // 创建[0,5)的子串
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>Go中区别<code>" "</code> 和 <code>' '</code> 前者表示string，后者表示byte类型。</li>
          <li>Go中string类型不可变，需要转换为<code>[]byte</code> 字节切片。
            <ul>
              <li>两个字符串通过+=语句修改，是将新字符串赋值给变量</li>
              <li>两个字符串可以安全共用一段底层内存</li>
              <li>当发生+=，实际上是指向了新的内存地址，原来的底层没有发生变更</li>
            </ul>
          </li>
          <li>string和byte不能直接运算拼接，需要使用显示类型转换。</li>
        </ul>
        <h3 id="指针"><a aria-hidden="true" tabindex="-1" href="#指针" class="anchor"><span class="icon icon-link"></span></a>指针</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">var</span> a <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">5</span>
</span><span class="code-line line-number" line="2">p <span class="token operator">:=</span> <span class="token operator">&#x26;</span>a
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4"><span class="token keyword">var</span> a <span class="token operator">*</span><span class="token builtin">int</span>
</span></code><input type="hidden" value="var a int = 5
p := &#x26;a

var a *int
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>用<code>&#x26;</code>取地址，用<code>*</code>取地址中的值</li>
          <li>在打印时，用<code>&#x26;</code>特殊标记，这是一个指针变量。</li>
          <li>Go中 a++是一个语句，只能单独一行使用。</li>
        </ul>
        <h3 id="数组"><a aria-hidden="true" tabindex="-1" href="#数组" class="anchor"><span class="icon icon-link"></span></a>数组</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1">array <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"heli,"</span>hello<span class="token string">","</span>world"<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">array <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"heli,"</span>hello<span class="token string">","</span>world"<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">func</span> <span class="token function">modify</span><span class="token punctuation">(</span>array <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"another"</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token function">modify</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">a <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">    <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="13">    <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="array := [3]string{&#x22;heli,&#x22;hello&#x22;,&#x22;world&#x22;}

array := [...]string{&#x22;heli,&#x22;hello&#x22;,&#x22;world&#x22;}

func modify(array [5]string){
    array[0] = &#x22;another&#x22;
}

modify(array)

a := [2][3]int{
    {1, 1, 1},
    {2, 2, 2}
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>初始化后长度不可变</li>
          <li>数组的长度len和空间cap，一定是相等的</li>
          <li>数组在Go中为值类型</li>
          <li>长度不同的数组，是不同的类型</li>
        </ul>
        <h3 id="slice"><a aria-hidden="true" tabindex="-1" href="#slice" class="anchor"><span class="icon icon-link"></span></a>Slice</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1">slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">"heli,"</span>hello<span class="token string">","</span>world"<span class="token punctuation">}</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">newSlice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span>）
</span><span class="code-line line-number" line="5"><span class="token comment">// len = cap = 2</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7">newSlice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token comment">// len = 2, cap = 100</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">multSlice <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="11">
</span><span class="code-line line-number" line="12">multSlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>multSlice<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">multSlice <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>multSlice<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="14">multSlice<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
</span></code><input type="hidden" value="slice := []string{&#x22;heli,&#x22;hello&#x22;,&#x22;world&#x22;}


newSlice := make([]int, 2）
// len = cap = 2

newSlice := make([]int, 2, 100)
// len = 2, cap = 100

multSlice := make([][]int, 0)

multSlice = append(multSlice, []int{1,2,3})
multSlice = append(multSlice, []int{2,2,3})
multSlice[0][1] = 100
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>Slice是一个结构体，指向底层的数组</li>
          <li>区别一般数组，是否指定数组的大小。是一种动态数组，长度可变
            <ul>
              <li>cap：申请的空间</li>
              <li>len：实际使用的空间</li>
              <li>扩容：cap == len时，对cap进行翻倍扩容，<strong>重新分配内存地址，但是减小大小，不会改变地址</strong></li>
            </ul>
          </li>
          <li>make函数只能用来创建<code>slice、map、channel</code>三种数据结构</li>
          <li>传参拷贝引用，区别前面的值拷贝</li>
          <li><code>slice[low:high]</code>还是共享了底层的数组，指针位置指向low，子切片</li>
          <li>二维slice的初始化，访问</li>
        </ul>
        <h3 id="byte"><a aria-hidden="true" tabindex="-1" href="#byte" class="anchor"><span class="icon icon-link"></span></a>Byte</h3>
        <ul>
          <li>uint8的别名</li>
        </ul>
        <h3 id="map"><a aria-hidden="true" tabindex="-1" href="#map" class="anchor"><span class="icon icon-link"></span></a>Map</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 创建一个变量</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">
</span><span class="code-line line-number" line="4">m <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span>sting<span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">    <span class="token string">"ming"</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="6">    <span class="token string">"zhangsan"</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9"><span class="token comment">// 二维</span>
</span><span class="code-line line-number" line="10"><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span>
</span><span class="code-line line-number" line="11">m <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12"><span class="token comment">// 分布初始化</span>
</span><span class="code-line line-number" line="13">m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="14">m<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"OK"</span>
</span><span class="code-line line-number" line="15">
</span><span class="code-line line-number" line="16">a，ok <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="17"><span class="token keyword">if</span> <span class="token operator">!</span>ok<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="18">    m<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="19"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="20">
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22">score<span class="token punctuation">,</span> err <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token string">"ming"</span><span class="token punctuation">]</span>
</span><span class="code-line line-number" line="23"><span class="token comment">//访问时返回值和是否存在（true or false)</span>
</span><span class="code-line line-number" line="24">
</span><span class="code-line line-number" line="25"><span class="token comment">//注意这边的value知识一个拷贝，不对实际产生影响</span>
</span><span class="code-line line-number" line="26"><span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token operator">:=</span> <span class="token keyword">range</span> m<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"%s\t %d\t"</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="28"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29">
</span><span class="code-line line-number" line="30"><span class="token comment">// 删除</span>
</span><span class="code-line line-number" line="31"><span class="token function">delete</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> <span class="token string">"ming"</span><span class="token punctuation">)</span>
</span></code><input type="hidden" value="// 创建一个变量
var m map[int]string = make(map[int]string)

m := map[sting]int{
    &#x22;ming&#x22;:10,
    &#x22;zhangsan&#x22;:13,
}

// 二维
var m map[int]map[int]string
m = make(map[int]map[int]string)
// 分布初始化
m[1] = make(map[int]string)
m[1][1] = &#x22;OK&#x22;

a，ok := m[2][1]
if !ok{
    m[2] = make(map[int]string)
}


score, err := m[&#x22;ming&#x22;]
//访问时返回值和是否存在（true or false)

//注意这边的value知识一个拷贝，不对实际产生影响
for key, value := range m{
    fmt.Println(&#x22;%s\t %d\t&#x22;, key, value)
}

// 删除
delete(m, &#x22;ming&#x22;)
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>存储一系列无序的键值对，基于键来存储值</li>
          <li>传参时，还是指针，与切片相等，会改变底层的内容</li>
          <li>无序访问</li>
        </ul>
        <h3 id="struct"><a aria-hidden="true" tabindex="-1" href="#struct" class="anchor"><span class="icon icon-link"></span></a>Struct</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> person <span class="token keyword">struct</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    Name <span class="token builtin">string</span>
</span><span class="code-line line-number" line="3">    Age <span class="token builtin">int</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token comment">//a := person{}</span>
</span><span class="code-line line-number" line="8">    <span class="token comment">//a.Name = "joe"</span>
</span><span class="code-line line-number" line="9">    <span class="token comment">//a.Age = 19</span>
</span><span class="code-line line-number" line="10">    a <span class="token operator">:=</span> <span class="token operator">&#x26;</span>person<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">        Name<span class="token punctuation">:</span> <span class="token string">"joe"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="12">        Age<span class="token punctuation">:</span> <span class="token number">19</span>
</span><span class="code-line line-number" line="13">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">    a<span class="token punctuation">.</span>Age <span class="token operator">=</span> <span class="token number">20</span>
</span><span class="code-line line-number" line="15"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16">
</span><span class="code-line line-number" line="17"><span class="token comment">// 匿名结构</span>
</span><span class="code-line line-number" line="18"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">    a <span class="token operator">:=</span> <span class="token operator">&#x26;</span> <span class="token keyword">struct</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="20">        Name <span class="token builtin">string</span>
</span><span class="code-line line-number" line="21">        Age
</span><span class="code-line line-number" line="22">    <span class="token punctuation">}</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">        Name<span class="token punctuation">:</span> <span class="token string">"joe"</span><span class="token punctuation">,</span>
</span><span class="code-line line-number" line="24">        Age<span class="token punctuation">:</span> <span class="token number">19</span>
</span><span class="code-line line-number" line="25">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="26">    
</span><span class="code-line line-number" line="27"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="type person struct{
    Name string
    Age int
}

func main() {
    //a := person{}
    //a.Name = &#x22;joe&#x22;
    //a.Age = 19
    a := &#x26;person{
        Name: &#x22;joe&#x22;,
        Age: 19
    }
    a.Age = 20
}

// 匿名结构
func main(){
    a := &#x26; struct{
        Name string
        Age
    }{
        Name: &#x22;joe&#x22;,
        Age: 19
    }
    
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>普通传递是值传递，所以开始就加&#x26;，取地址，方便后续使用，避免每一次使用取地址</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> human <span class="token keyword">struct</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    Sex <span class="token builtin">int</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">type</span> teacher <span class="token keyword">struct</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    human
</span><span class="code-line line-number" line="7">    Name <span class="token builtin">string</span>
</span><span class="code-line line-number" line="8">    Age <span class="token builtin">int</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11">a <span class="token operator">:=</span> teacher<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">"joe"</span><span class="token punctuation">,</span> Age<span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span> human<span class="token punctuation">:</span> human<span class="token punctuation">{</span>Sex<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="12">a<span class="token punctuation">.</span>Sex <span class="token operator">=</span> <span class="token number">1</span>
</span></code><input type="hidden" value="type human struct{
    Sex int
}

type teacher struct{
    human
    Name string
    Age int
}

a := teacher{Name: &#x22;joe&#x22;, Age: 19, human: human{Sex:0}}
a.Sex = 1
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>也支持嵌套</li>
          <li>对于拥有相同成员变量的struct1，和struct2，对应的变量仍然不可以比较，不属于同一种类型，必须是相同类型值才能比较</li>
        </ul>
        <h3 id="json"><a aria-hidden="true" tabindex="-1" href="#json" class="anchor"><span class="icon icon-link"></span></a>JSON</h3>
        <h2 id="控制语句"><a aria-hidden="true" tabindex="-1" href="#控制语句" class="anchor"><span class="icon icon-link"></span></a>控制语句</h2>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    a <span class="token operator">:=</span> <span class="token number">1</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">switch</span> a <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="4">    <span class="token keyword">case</span> a <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="5">         fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">         <span class="token keyword">fallthrough</span>
</span><span class="code-line line-number" line="7">    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="8">    
</span><span class="code-line line-number" line="9">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="func main(){
    a := 1
    switch a {
    case a >= 0:
         fmt.Println(&#x22;a&#x22;)
         fallthrough
    case 1:
    
    }

}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>如果switch不加语句块，希望判断每一个case条件，使用fallthrough</li>
          <li>默认下一个case满足，会跳出这个sw</li>
        </ul>
        <h2 id="函数"><a aria-hidden="true" tabindex="-1" href="#函数" class="anchor"><span class="icon icon-link"></span></a>函数</h2>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token comment">// 不定长变参，这是拷贝值</span>
</span><span class="code-line line-number" line="2"><span class="token keyword">func</span> <span class="token function">A</span><span class="token punctuation">(</span>b <span class="token builtin">string</span><span class="token punctuation">,</span> a <span class="token operator">...</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token comment">// 拷贝地址</span>
</span><span class="code-line line-number" line="8"><span class="token keyword">func</span> <span class="token function">A</span><span class="token punctuation">(</span>b <span class="token builtin">string</span><span class="token punctuation">,</span> a <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">
</span><span class="code-line line-number" line="11"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="// 不定长变参，这是拷贝值
func A(b string, a ...int){
    

}

// 拷贝地址
func A(b string, a []int){


}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>Go函数不支持嵌套、重载和默认参数</li>
          <li>无需声明原型、不定长度变参、多返回值、命名返回值参数</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    a <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"A"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5">    <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="func main(){
    a := func(){
        fmt.Println(&#x22;A&#x22;)
    }
    a()
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>A 是一个函数类型变量，当作函数一样调用</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    f <span class="token operator">:=</span> <span class="token function">closure</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="3">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5"><span class="token keyword">func</span> <span class="token function">closure</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">return</span> <span class="token keyword">func</span><span class="token punctuation">(</span>y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">        <span class="token keyword">return</span> x <span class="token operator">+</span> y
</span><span class="code-line line-number" line="8">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="func main(){
    f := closure(10)
    fmt.Println(f(1))
}
func closure(x int) func(int) int{
    return func(y int) int {
        return x + y
    }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>返回值是一个函数，x是声明时给的值，y是后传入的值</li>
        </ul>
        <h3 id="获取迭代变量"><a aria-hidden="true" tabindex="-1" href="#获取迭代变量" class="anchor"><span class="icon icon-link"></span></a>获取迭代变量</h3>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> main
</span><span class="code-line line-number" line="2"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
</span><span class="code-line line-number" line="3"><span class="token keyword">var</span> rmdirs <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="5">   slice <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6">   <span class="token comment">// 错误写法（闭包捕获dir 地址）</span>
</span><span class="code-line line-number" line="7">   <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> dir <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"dir address is: "</span><span class="token punctuation">,</span><span class="token operator">&#x26;</span>dir<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9">      rmdirs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>rmdirs<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="10">         <span class="token comment">// 闭包捕获dir 地址</span>
</span><span class="code-line line-number" line="11">         fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span> dir<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="12">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">   <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="14">   <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> rmdir <span class="token operator">:=</span> <span class="token keyword">range</span> rmdirs <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">      <span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="16">   <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">   rmdirs <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="18">   <span class="token comment">// 正确写法(闭包捕获tmpDir，但是tmpDir 是一个临时变量，每次循环都会重新声明，所以每次循环都会有新的地址</span>
</span><span class="code-line line-number" line="19">   <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> dir <span class="token operator">:=</span> <span class="token keyword">range</span> slice <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="20">      tmpDir <span class="token operator">:=</span> dir
</span><span class="code-line line-number" line="21">      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"tmpDir address is: "</span><span class="token punctuation">,</span><span class="token operator">&#x26;</span>tmpDir<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="22">      rmdirs <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>rmdirs<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">         fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>tmpDir<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="24">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="25">   <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="26">   <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> rmdir <span class="token operator">:=</span> <span class="token keyword">range</span> rmdirs <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="27">      <span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="28">   <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="29"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="package main
import &#x22;fmt&#x22;
var rmdirs []func()
func main() {
   slice := []int{1,2,3,4,5}
   // 错误写法（闭包捕获dir 地址）
   for _, dir := range slice {
      fmt.Println(&#x22;dir address is: &#x22;,&#x26;dir)
      rmdirs = append(rmdirs, func() {
         // 闭包捕获dir 地址
         fmt.Println( dir)
      })
   }
   for _, rmdir := range rmdirs {
      rmdir()
   }
   rmdirs = make([]func(), 0)
   // 正确写法(闭包捕获tmpDir，但是tmpDir 是一个临时变量，每次循环都会重新声明，所以每次循环都会有新的地址
   for _, dir := range slice {
      tmpDir := dir
      fmt.Println(&#x22;tmpDir address is: &#x22;,&#x26;tmpDir)
      rmdirs = append(rmdirs, func() {
         fmt.Println(tmpDir)
      })
   }
   for _, rmdir := range rmdirs {
      rmdir()
   }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>dir的地址每次都是不变的，在闭包里捕获的都是同一个地址。所以用临时变量，迫使闭包每次捕获的是新地址</li>
          <li>每次dir从切片中获取数值，而不是改变dir指向地址</li>
        </ul>
        <h3 id="defer"><a aria-hidden="true" tabindex="-1" href="#defer" class="anchor"><span class="icon icon-link"></span></a>Defer</h3>
        <p><code>defer</code>语句会将函数推迟到外层函数返回之后执行。</p>
        <p>推迟调用的函数其<strong>参数会立即求值</strong>，但直到外层函数返回前该函数都不会被调用。</p>
        <ul>
          <li>defer参数在语句出现前已经确定（除了用的地址，否则无法改变）
            <ul>
              <li>实际的步骤是：设置的值->执行defer->将结果返回
                <ul>
                  <li>如果改变的不是返回值变量，defer语句内不造成影响</li>
                  <li>如果返回值是匿名的，也不受到影响</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>使用场景：文件的关闭，或数据库连接的释放等，这样打开和关闭的代码写在一起，既可以使得代码更加的整洁，也可以防止出现开发者在写了长长的业务代码后，忘记关闭的情况。</li>
          <li>有多个defer时，按照语句顺序，压栈出栈顺序进行</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> main
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&#x3C;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="9">       <span class="token keyword">defer</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"defer i = "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="10">       <span class="token comment">// 延迟匿名函数，必须加括号</span>
</span><span class="code-line line-number" line="11">       <span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="12">          fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"defer_closure i = "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="13">       <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="14">
</span><span class="code-line line-number" line="15">       fs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"closure i = "</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="16">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18">    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> f <span class="token operator">:=</span> <span class="token keyword">range</span> fs <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">       <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="20">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="21"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="package main

import &#x22;fmt&#x22;

func main() {
    var fs = [4]func(){}

    for i := 0; i < 4; i++ {
       defer fmt.Println(&#x22;defer i = &#x22;, i)
       // 延迟匿名函数，必须加括号
       defer func() {
          fmt.Println(&#x22;defer_closure i = &#x22;, i)
       }()

       fs[i] = func() { fmt.Println(&#x22;closure i = &#x22;, i) }
    }

    for _, f := range fs {
       f()
    }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h3 id="panic"><a aria-hidden="true" tabindex="-1" href="#panic" class="anchor"><span class="icon icon-link"></span></a>Panic</h3>
        <ul>
          <li>单独panic发生后，后续不会执行，配合defer中包含recover函数进行恢复
            <ul>
              <li>因为defer无论如何都会执行，所以发生panic后，把recover放到defer中</li>
            </ul>
          </li>
        </ul>
        <h2 id="方法"><a aria-hidden="true" tabindex="-1" href="#方法" class="anchor"><span class="icon icon-link"></span></a>方法</h2>
        <p>是某种特定类型的函数。</p>
        <ul>
          <li>同名方法，不能根据形参的类型进行重载</li>
          <li>对于type定义，也可以使用附加特定的方法</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">var</span> a TZ
</span><span class="code-line line-number" line="2"><span class="token comment">//method value</span>
</span><span class="code-line line-number" line="3">a<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4"><span class="token comment">//method expression</span>
</span><span class="code-line line-number" line="5"><span class="token punctuation">(</span><span class="token operator">*</span>TZ<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span><span class="token operator">&#x26;</span>a<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="6">
</span><span class="code-line line-number" line="7"><span class="token keyword">func</span> <span class="token punctuation">(</span>a <span class="token operator">*</span>TZ<span class="token punctuation">)</span> <span class="token function">Print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="8">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Tz"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="9"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="var a TZ
//method value
a.Print()
//method expression
(*TZ).Print(&#x26;a)

func (a *TZ) Print(){
    fmt.Println(&#x22;Tz&#x22;)
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <h2 id="接口"><a aria-hidden="true" tabindex="-1" href="#接口" class="anchor"><span class="icon icon-link"></span></a>接口</h2>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">package</span> main
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">import</span> <span class="token string">"fmt"</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">type</span> USB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    <span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
</span><span class="code-line line-number" line="7">    <span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10"><span class="token keyword">type</span> PhoneConnecter <span class="token keyword">struct</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="11">    name <span class="token builtin">string</span>
</span><span class="code-line line-number" line="12"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="13">
</span><span class="code-line line-number" line="14"><span class="token keyword">func</span> <span class="token punctuation">(</span>pc PhoneConnecter<span class="token punctuation">)</span> <span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="15">    <span class="token keyword">return</span> pc<span class="token punctuation">.</span>name
</span><span class="code-line line-number" line="16"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="17">
</span><span class="code-line line-number" line="18"><span class="token keyword">func</span> <span class="token punctuation">(</span>pc PhoneConnecter<span class="token punctuation">)</span> <span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="19">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Connect:"</span><span class="token punctuation">,</span> pc<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="20"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="21">
</span><span class="code-line line-number" line="22"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="23">    a <span class="token operator">:=</span> PhoneConnecter<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"xiaocai"</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="24">    a<span class="token punctuation">.</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="25">    <span class="token function">Disconnect</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="26"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="27">
</span><span class="code-line line-number" line="28"><span class="token keyword">func</span> <span class="token function">Disconnect</span><span class="token punctuation">(</span>usb USB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="29">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Disconnext."</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="30"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="package main

import &#x22;fmt&#x22;

type USB interface {
    Name() string
    Connect()
}

type PhoneConnecter struct {
    name string
}

func (pc PhoneConnecter) Name() string {
    return pc.name
}

func (pc PhoneConnecter) Connect() {
    fmt.Println(&#x22;Connect:&#x22;, pc.name)
}

func main() {
    a := PhoneConnecter{name: &#x22;xiaocai&#x22;}
    a.Connect()
    Disconnect(a)
}

func Disconnect(usb USB) {
    fmt.Println(&#x22;Disconnext.&#x22;)
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>一般把接口类型名后面加上<code>er</code>，接口作为函数参数时，任何满足这个接口的变量类型都可以传入</li>
          <li>接口是一个或多个方法签名的集合
            <ul>
              <li>USB这个接口含有name、Connect两个方法</li>
              <li>只有方法声明，没有实现，没有数据字段</li>
            </ul>
          </li>
          <li>只要某个类型拥有该接口的所有方法签名，即算实现该接口，无需显示声明实现了哪个接口，这称为Structural Typing
            <ul>
              <li>PhoneConnecter实现了USB这个接口中的name，Connect方法，就算实现了该接口</li>
            </ul>
          </li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> USB <span class="token keyword">interface</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
</span><span class="code-line line-number" line="3">    Connecter
</span><span class="code-line line-number" line="4"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6"><span class="token keyword">type</span> Connecter <span class="token keyword">interface</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="7">    <span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="type USB interface {
    Name() string
    Connecter
}

type Connecter interface {
    Connect()
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>接口可以匿名嵌入其它接口，或嵌入到结构中</li>
          <li>也同时满足struct的嵌入，struct中嵌入一个满足接口类型的类型，那么整体新的struct也满足这个接口</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token function">Disconnect</span><span class="token punctuation">(</span>usb USB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">if</span> pc<span class="token punctuation">,</span> ok <span class="token operator">:=</span> usb<span class="token punctuation">.</span><span class="token punctuation">(</span>PhoneConnecter<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Disconnect:"</span><span class="token punctuation">,</span> pc<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="4">       <span class="token keyword">return</span>
</span><span class="code-line line-number" line="5">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="6">    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Unknown device"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="func Disconnect(usb USB) {
    if pc, ok := usb.(PhoneConnecter); ok {
       fmt.Println(&#x22;Disconnect:&#x22;, pc.name)
       return
    }
    fmt.Println(&#x22;Unknown device&#x22;)
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>对接口类型的断言</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> empty <span class="token keyword">interface</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="type empty interface{

}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>空接口，任何类型都实现了</li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">func</span> <span class="token function">Disconnect</span><span class="token punctuation">(</span>usb USB<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    <span class="token keyword">switch</span> v <span class="token operator">:=</span> usb<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line line-number" line="3">    <span class="token keyword">case</span> PhoneConnecter<span class="token punctuation">:</span>
</span><span class="code-line line-number" line="4">       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Disconnect:"</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</span><span class="code-line line-number" line="5">    <span class="token keyword">default</span><span class="token punctuation">:</span>
</span><span class="code-line line-number" line="6">       fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">"Unknown device"</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">    <span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8"><span class="token punctuation">}</span>
</span></code><input type="hidden" value="func Disconnect(usb USB) {
    switch v := usb.(type) {
    case PhoneConnecter:
       fmt.Println(&#x22;Disconnect:&#x22;, v.name)
    default:
       fmt.Println(&#x22;Unknown device&#x22;)
    }
}
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>当接口的类型过多时，使用<code>type switch</code></li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1"><span class="token keyword">type</span> tvConnecter <span class="token keyword">struct</span><span class="token punctuation">{</span>
</span><span class="code-line line-number" line="2">    name <span class="token builtin">string</span>
</span><span class="code-line line-number" line="3"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="4">
</span><span class="code-line line-number" line="5"><span class="token keyword">func</span> <span class="token punctuation">(</span>tv  tvConnecter<span class="token punctuation">)</span>Connect<span class="token punctuation">{</span>
</span><span class="code-line line-number" line="6">    <span class="token operator">...</span>
</span><span class="code-line line-number" line="7"><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="8">
</span><span class="code-line line-number" line="9">tv <span class="token operator">:=</span> tvConnecter<span class="token punctuation">{</span><span class="token string">"1234"</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="10"><span class="token keyword">var</span> a USB
</span><span class="code-line line-number" line="11">a <span class="token operator">=</span> <span class="token function">USB</span><span class="token punctuation">(</span>tv<span class="token punctuation">)</span> <span class="token comment">//error</span>
</span></code><input type="hidden" value="type tvConnecter struct{
    name string
}

func (tv  tvConnecter)Connect{
    ...
}

tv := tvConnecter{&#x22;1234&#x22;}
var a USB
a = USB(tv) //error
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>超级接口PhoneConnecter可以转换为下级接口，反之Connecter不可以转换为PhoneConnecter
            <ul>
              <li>也就是只能实现<strong>降级转换</strong></li>
            </ul>
          </li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"><span class="code-line line-number" line="1">a <span class="token operator">:=</span> PhoneConnecter<span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">"xiaocai"</span><span class="token punctuation">}</span>
</span><span class="code-line line-number" line="2">
</span><span class="code-line line-number" line="3"><span class="token keyword">var</span> tmp PhoneConnecter
</span><span class="code-line line-number" line="4">tmp <span class="token operator">=</span> a
</span><span class="code-line line-number" line="5">
</span><span class="code-line line-number" line="6">tmp<span class="token punctuation">.</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line line-number" line="7">
</span><span class="code-line line-number" line="8">a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"pc"</span>
</span><span class="code-line line-number" line="9">
</span><span class="code-line line-number" line="10">tmp<span class="token punctuation">.</span><span class="token function">Connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code><input type="hidden" value="a := PhoneConnecter{name: &#x22;xiaocai&#x22;}

var tmp PhoneConnecter
tmp = a

tmp.Connect()

a.name = &#x22;pc&#x22;

tmp.Connect()
"><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>将对象赋值给接口时，会发生拷贝，而接口内部存储的是指向这个复制品的指针，既无法修改复制品的状态，也无法获取指针
            <ul>
              <li>这里tmp收到的是浅拷贝</li>
              <li>a的改动，不会影响tmp</li>
            </ul>
          </li>
        </ul>
        <pre class="language-go"><code class="language-Go code-highlight"></code><input type="hidden" value=""><div onclick="copied(this)" class="copied"><svg class="octicon-copy" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg><svg class="octicon-check" aria-hidden="true" viewBox="0 0 16 16" fill="currentColor" height="12" width="12"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg></div></pre>
        <ul>
          <li>只有当接口存储的类型和对象都为il时，接口才等于nil</li>
          <li>接口调用不会做receiver的自动转换</li>
          <li>接口同样支持匿名字段方法</li>
          <li>接口也可实现类似OOP中的多态</li>
          <li>空接口可以作为任何类型数据的容器</li>
        </ul>
      </markdown-style>
      <nav class="tocs">
        <aside class="inner toc">
          <ol class="tocs-list">
            <li><a href="#安装" class="tocs-link">安装</a></li>
            <li><a href="#导包" class="tocs-link">导包</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#包管理工具" class="tocs-link">包管理工具</a></li>
                <li><a href="#golang环境" class="tocs-link">golang环境</a></li>
              </ol>
            </li>
            <li><a href="#hello-world-1" class="tocs-link">Hello world</a></li>
            <li><a href="#数据结构" class="tocs-link">数据结构</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#变量定义" class="tocs-link">变量定义</a></li>
                <li><a href="#常量" class="tocs-link">常量</a></li>
                <li><a href="#字符串" class="tocs-link">字符串</a></li>
                <li><a href="#指针" class="tocs-link">指针</a></li>
                <li><a href="#数组" class="tocs-link">数组</a></li>
                <li><a href="#slice" class="tocs-link">Slice</a></li>
                <li><a href="#byte" class="tocs-link">Byte</a></li>
                <li><a href="#map" class="tocs-link">Map</a></li>
                <li><a href="#struct" class="tocs-link">Struct</a></li>
                <li><a href="#json" class="tocs-link">JSON</a></li>
              </ol>
            </li>
            <li><a href="#控制语句" class="tocs-link">控制语句</a></li>
            <li><a href="#函数" class="tocs-link">函数</a>
              <ol class="tocs-list is-collapsed">
                <li><a href="#获取迭代变量" class="tocs-link">获取迭代变量</a></li>
                <li><a href="#defer" class="tocs-link">Defer</a></li>
                <li><a href="#panic" class="tocs-link">Panic</a></li>
              </ol>
            </li>
            <li><a href="#方法" class="tocs-link">方法</a></li>
            <li><a href="#接口" class="tocs-link">接口</a></li>
          </ol>
        </aside>
      </nav>
    </div>
    <script src="../js/demo-preview.js?v=1.25.0"></script>
    <div class="footer warpper">Created by <a href="https://github.com/shixiaocaia" target="_blank">shixiaocaia</a> | Powered by <a href="https://github.com/jaywcjlove/idoc" target="_blank">idoc</a><br>Think less and do more.</div>
    <script src="../js/tocbot.js?v=1.25.0"></script>
  </body>
</html>
