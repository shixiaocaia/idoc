Go Module
===

## 如何使用

- go mod tidy会检测import中缺少的包，进行下载
- go get roc.io/quote@v1.9.1 指定版本号
- 再执行一次go mod tidy 可以去除不必要的包

## 发布步骤

```go
module github.com/shixiaocaia/Learn_go

go 1.20

require rsc.io/quote v1.5.1

require (
	golang.org/x/text v0.0.0-20170915032832-14c0d48ead0c // indirect
	rsc.io/sampler v1.3.0 // indirect
)
```

Go 模块准备好后，只需简单几步，即可将其发布出去：

1. 打开命令行并进入模块根目录；

2. 执行 `go mod tidy` 命令，删除一些不必要的模块依赖；

   我们演示发布的模块没有引用任何依赖，因此这步可有可无；

3. 执行测试用例，最后一次确认代码运行无误；

   ```go
    go test ... 
   ```

   `go test` 命令执行模块的单测用例，用例可以用 *Go* 语言的测试框架来写。我们演示的模块没有测试用例，因此这步也可以跳过。

4. 执行 `git tag` 命令，用新版本号打标签；

   ```go
   # 提交代码
   git commit -m "first version"
   
   # 打标签
   git tag v1.0.0
   ```

   版本号必须符合模块版本命名规则，以便让用户知晓代码变更情况（接口是否兼容）。

5. 将新标签推到原仓库（如 *Github* ）；

   ```go
   git push origin v1.0.0
   ```

6. 执行 `go list` 命令触发 *Go* 更新模块索引信息，确保新发布的模块可用；

   ```go
   GOPROXY=proxy.golang.org go list -m github.com/fasionchan/goutils@v1.0.0
   ```

   注意到，我们在命令之前设置了 *GOPROXY* 环境变量，指定使用 *proxy.golang.org* 作为 *Go* 代理。这可以确保我们请求到官方代理，而不是各种加速镜像。
