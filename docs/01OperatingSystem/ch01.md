程序是怎么跑起来的
===

## 对程序员而言CPU是什么

1. 熟悉常用的一些寄存器的作用
2. 机器语言

> 机器语言是计算机能直接编译运行的语言，高级语言经过编译转换为机器语言。
>
> 机器语言主要实现：
>
> > 1. 数据在主存、寄存器、磁盘之间的传送指令、
> > 2. 运算指令
> > 3. 跳转指令，实现条件分支，循环，强制跳转
> > 4. call return指令

3. 32位是多少个字节，4个字节

## 数据使用二进制数表示的

计算机内部是由各类的IC电子部件构成的，IC所有的引脚只有直流电压0V或者5V（部分引脚电压小于5V），这样的两个状态对应了计算机内部中信息数据只能用二进制处理。

二进制位数一般是8的倍数，对应着1个字节，所以计算机处理的信息基本单位是8的二进制数。

如果部分数据不到8位，一般在高位补0。

**区分逻辑右移和算数右移**

只有右移才需要区分。

- 逻辑右移，高位不足是用0填补。
- 算数右移，高位不足用移位前的符号位进行填补。

## 熟练使用有棱有角的内存

内存的实体是内存IC，一个内存IC中的地址信号引脚有10个，对应可以保存2^10 = 1024的地址，地址是用来表示数据的存储场，因此可以得出这个内存IC可以存储1024个字节的数据。

磁盘中的程序必须加载到内存中才能运行。

> 负责解析和运行程序内容的CPU，需要通过内部程序计数器来指定内存地址，然后才能读出程序。

### 虚拟内存

磁盘和内存的关系之二，使用一部分的磁盘空间作为内存使用。将需要执行的部分程序加载内存中，其他部分置换到磁盘当中。

虚拟内存的方法分为分页式和分段式。

为了实现虚拟内存的功能，Windows在磁盘上提供虚拟内存用的文件，由系统自动做成和管理。

但是虚拟内存不能从根本上解决内存不足的问题：1. 增加内存 ，2. 节约内存使用。

- 通过DDL文件实现函数共有，从而节省内存。将多个文件需要的函数作为独立的DDL文件，进行动态链接调用，节省内存。
  - 操作系统本身也就是多个DLL文件的集合体。
- 通过_stdcall来减小程序文件的大小
  - 通过栈清理处理将不需要的数据从接受和传递函数的参数从内存上的栈区域中清理出去，程序编译时由编译器自动附加导程序main中。

