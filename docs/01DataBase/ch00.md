基本概念
===

数据库（database）：是一个以某种有组织的方式存储的数据集合，是保存有组织的数据的容器。

表（table）：某种特定类型数据的结构化清单，用来存储某种特定类型的数据。

> 表由行（row）、列组成，其中每个表列具有相应的数据类型（datatype)。
>
> 表中每一行可以用一个主键（primary key）来唯一区分表中的每个行。
>
> 主键的使用习惯：
>
> 1. 应该总是定义主键，虽然不是必须的。
> 1. 主键不一定定义再表的一列，可以定义为多列，但是注意不能重复。
> 1. 不更新、不重用主键列的值、不在主键列中使用可能会更改的值。

结构化查询语言（SQL，Structure Query Language）：专门用来与数据库通信的语言，并且几乎所有重要的DBMS都支持SQL。

> 1. 尽量给每一条SQL语句加上分号表示结束，虽然不是必要的。
>2. SQL语句不区分大小写，但是一般把关键字是用大写，列和表使用小写，这样增加可读性。

---

## 初见MySQL

正如所述，数据的所有存储、 检索、管理和处理实际上是由数据库软件——DBMS（数据库管理系统）完成的。MySQL是一种DBMS，即它是一种数据库软件。

DBMS可分为两类：一类为基于共享文件系统的DBMS，另一类为基于客户机—服务器的DBMS。MySQL属于C / S一类的DBMS。

### 安装MySQL

[参考](https://www.sjkjc.com/mysql/install-on-windows/)

### 使用MySQL

1. 打开 cmd 命令行窗口，使用命令导航到 MySQL 服务器 bin 目录下

   ```cmd
   cd c:\Program Files\MySQL\MySQL Server 8.0\bin
   ```

2. 请使用以下命令连接到 MySQL 服务器：

   ```bash
   mysql -u root -p
   mysql -u root -p123456
   
   mysql -h主机名 -u用户名 -p密码
   ```

   `-u root` 意味着使用 `root` 用户连接到 MySQL 服务器; `-p` 指示 `mysql` 提示输入密码。服务端在本机上，可以省略`-h`。在局域网连接下的电脑，可以考虑使用IP地址访问其他主机上的数据库服务端。

   然后根据提示输入 `root` 帐户的密码，并按下回车键。验证通过后，显示以下输出代表进入了 MySQL 控制台：

   ```bash
   mysql>
   ```

3. 链接成功后，使用 `SHOW DATABASES`]显示当前服务器中的所有数据库。

4. 使用数据库

   ```bash
   USE test
   ```

5. 为了获得一个数据库内的表的列表，使用`SHOW TABLES`

6. mysql服务端打开和关闭，这是建立在把mysql注册为Windows服务

   ```bash
   net stop mysql80
   net start mysql80
   ```
7. 查看相关信息

   ```bash
   mysql> status;  # 显示当前mysql的version的各种信息
   mysql> select version(); # 显示当前mysql的version信息
   mysql> show global variables like 'port'; # 查看MySQL端口号
   ```

---

8. 创建数据库

   ```bash
   -- 创建一个名为 samp_db 的数据库，数据库字符编码指定为 gbk
   create database samp_db character set gbk;
   drop database samp_db; -- 删除 库名为 samp_db 的库
   show databases;        -- 显示数据库列表。
   use samp_db;           -- 选择创建的数据库 samp_db 
   show tables;           -- 显示 samp_db 下面所有的表名字
   describe 表名;          -- 显示数据表的结构
   delete from 表名;       -- 清空表中记录
   ```

9. 创建数据库表

    > `CREATE TABLE 语法` 语句用于从表中选取数据。
    >
    > ```sql
    > CREATE TABLE 表名称 (
    >   列名称1  数据类型,
    >   列名称2  数据类型,
    >   列名称3  数据类型,
    >   ....
    > );
    > ```

    ```sql
    CREATE DATABASE test;
    use test;
    CREATE TABLE student (
    	id int,
    	name varchar(255),
    	address varchar(255),
    	city varchar(255)
    );
    
    INSERT INTO fruits VALUES (1, '苹果', 5, 3);
    INSERT INTO fruits VALUES (2, '香蕉',  3, 10);
    INSERT INTO fruits VALUES (3, '西瓜',  4, 15);
    
     
    SELECT * FROM student;
    ```
    数据类型的属性解释  	

    - `NULL`：数据列可包含NULL值；

    - `NOT NULL`：数据列不允许包含NULL值；

    - `DEFAULT`：默认值；

    - `PRIMARY KEY`：主键；

    - `AUTO_INCREMENT`：自动递增，适用于整数类型；

    - `UNSIGNED`：是指数值类型只能为正数；

    - `CHARACTER SET name`：指定一个字符集；

    - `COMMENT`：对表或者字段说明；

10. 删除数据库表

    `DROP/TRUNCATE TABLE 语法` 语句用于删除数据库中的现有表。
    
    ```sql
    DROP TABLE 表名称;     -- 用于删除数据库中的现有表。
     TRUNCATE TABLE 表名称; -- 用于删除表内的数据，但不删除表本身。
    ```

    ```sql
    -- 删除现有表 Shippers：
    DROP TABLE Shippers;
    -- 删除现有表 Shippers 表内的数据，不删除表：
    TRUNCATE TABLE Shippers;
    ```

## 问题

### SQL规范书写问题

- 阿里巴巴规约：

> 表名、字段名必须使用小写字母或数字 ， 禁止出现数字开头，禁止两个下划线中间只 出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。

- SQL语句一律采用小写字母，避免无意义的踩坑。
